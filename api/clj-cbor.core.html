<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-cbor.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-cbor</span> <span class="project-version">0.7.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-cbor</span></div></div></li><li class="depth-2 branch"><a href="clj-cbor.codec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></a></li><li class="depth-2 branch current"><a href="clj-cbor.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></div></li><li class="depth-3 branch"><a href="clj-cbor.data.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="clj-cbor.data.float16.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>float16</span></div></a></li><li class="depth-3 branch"><a href="clj-cbor.data.simple.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>simple</span></div></a></li><li class="depth-3"><a href="clj-cbor.data.tagged.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tagged</span></div></a></li><li class="depth-2 branch"><a href="clj-cbor.error.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>error</span></div></a></li><li class="depth-2 branch"><a href="clj-cbor.header.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>header</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tags</span></div></div></li><li class="depth-3 branch"><a href="clj-cbor.tags.clojure.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure</span></div></a></li><li class="depth-3 branch"><a href="clj-cbor.tags.content.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>content</span></div></a></li><li class="depth-3 branch"><a href="clj-cbor.tags.numbers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>numbers</span></div></a></li><li class="depth-3 branch"><a href="clj-cbor.tags.text.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>text</span></div></a></li><li class="depth-3"><a href="clj-cbor.tags.time.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>time</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-cbor.core.html#var-cbor-codec"><div class="inner"><span>cbor-codec</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-decode"><div class="inner"><span>decode</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-decode-seq"><div class="inner"><span>decode-seq</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-default-codec"><div class="inner"><span>default-codec</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-default-read-handlers"><div class="inner"><span>default-read-handlers</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-default-write-handlers"><div class="inner"><span>default-write-handlers</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-encode"><div class="inner"><span>encode</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-encode-seq"><div class="inner"><span>encode-seq</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-self-describe"><div class="inner"><span>self-describe</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-slurp"><div class="inner"><span>slurp</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-slurp-all"><div class="inner"><span>slurp-all</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-spit"><div class="inner"><span>spit</span></div></a></li><li class="depth-1"><a href="clj-cbor.core.html#var-spit-all"><div class="inner"><span>spit-all</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-cbor.core</h1><div class="doc"><div class="markdown"><p>Core CBOR library API.</p></div></div><div class="public anchor" id="var-cbor-codec"><h3>cbor-codec</h3><div class="usage"><code>(cbor-codec &amp; opts)</code></div><div class="doc"><div class="markdown"><p>Construct a new CBOR codec with no configuration. Note that this does not include <strong>any</strong> read and write handlers. See the <code>default-codec</code> and the <code>default-read-handlers</code> and <code>default-write-handlers</code> vars.</p>
<p>Arguments may be a map or a sequence of key/value pairs. Valid options are:</p>
<ul>
  <li><code>:write-dispatch</code> function which is called to provide a dispatch value  based on the data to be rendered. (default: <code>class</code>)</li>
  <li><code>:write-handlers</code> lookup function from dispatch values to handlers which  take some data to be encoded and return a transformed version of it  (typically a tagged value).</li>
  <li><code>:read-handlers</code> lookup function from integer tags to handlers which take  the embedded item and return the parsed data value.</li>
</ul></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L25">view source</a></div></div><div class="public anchor" id="var-decode"><h3>decode</h3><div class="usage"><code>(decode input)</code><code>(decode decoder input)</code><code>(decode decoder input eof-guard)</code></div><div class="doc"><div class="markdown"><p>Decode a single CBOR value from the input.</p>
<p>The input may be a byte array or coercible to an <code>input-stream</code>. Uses the <code>default-codec</code> if none is provided. If at the end of the input, returns nil or <code>eof-guard</code> if provided.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L161">view source</a></div></div><div class="public anchor" id="var-decode-seq"><h3>decode-seq</h3><div class="usage"><code>(decode-seq input)</code><code>(decode-seq decoder input)</code></div><div class="doc"><div class="markdown"><p>Decode a sequence of CBOR values from the input.</p>
<p>The input may be a byte array or coercible to an <code>input-stream</code>. Uses the <code>default-codec</code> if none is provided. This returns a lazy sequence, so take care that the input stream is not closed before the entries are realized.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L179">view source</a></div></div><div class="public anchor" id="var-default-codec"><h3>default-codec</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Default CBOR codec to use when none is specified.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L71">view source</a></div></div><div class="public anchor" id="var-default-read-handlers"><h3>default-read-handlers</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Map of default tag handlers to use, keyed by tag.</p>
<p>The default choice of representation for instants in time is <code>java.time.Instant</code>.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L59">view source</a></div></div><div class="public anchor" id="var-default-write-handlers"><h3>default-write-handlers</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Map of default write handlers to use, keyed by class.</p>
<p>The default choice of encoding for instants in time is the numeric epoch representation (tag 1).</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L47">view source</a></div></div><div class="public anchor" id="var-encode"><h3>encode</h3><div class="usage"><code>(encode value)</code><code>(encode encoder value)</code><code>(encode encoder output value)</code></div><div class="doc"><div class="markdown"><p>Encode a single value as CBOR data.</p>
<p>In the full argument form, this writes a value to an output stream and returns the number of bytes written. If output is omitted, the function returns a byte array instead. Uses the <code>default-codec</code> if none is provided.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L90">view source</a></div></div><div class="public anchor" id="var-encode-seq"><h3>encode-seq</h3><div class="usage"><code>(encode-seq values)</code><code>(encode-seq encoder values)</code><code>(encode-seq encoder output values)</code></div><div class="doc"><div class="markdown"><p>Encode a sequence of values as CBOR data. This eagerly consumes the input sequence.</p>
<p>In the full argument form, this writes a value to an output stream and returns the number of bytes written. If output is omitted, the function returns a byte array instead. Uses the <code>default-codec</code> if none is provided.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L108">view source</a></div></div><div class="public anchor" id="var-self-describe"><h3>self-describe</h3><div class="usage"><code>(self-describe value)</code></div><div class="doc"><div class="markdown"><p>Wraps a value with a self-describing CBOR tag. This will cause the first few bytes of the data to be <code>D9D9F7</code>, which serves as a distinguishing header for format detection.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L236">view source</a></div></div><div class="public anchor" id="var-slurp"><h3>slurp</h3><div class="usage"><code>(slurp f &amp; opts)</code></div><div class="doc"><div class="markdown"><p>Opens an input stream from <code>f</code>, reads the first value from it, then closes the stream.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L220">view source</a></div></div><div class="public anchor" id="var-slurp-all"><h3>slurp-all</h3><div class="usage"><code>(slurp-all f &amp; opts)</code></div><div class="doc"><div class="markdown"><p>Opens an input stream from <code>f</code>, reads all values from it, then closes the stream.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L228">view source</a></div></div><div class="public anchor" id="var-spit"><h3>spit</h3><div class="usage"><code>(spit f value &amp; opts)</code></div><div class="doc"><div class="markdown"><p>Opens an output stream to <code>f</code>, writes <code>value</code> to it, then closes the stream.</p>
<p>Options may include <code>:append</code> to write to the end of the file instead of truncating.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L199">view source</a></div></div><div class="public anchor" id="var-spit-all"><h3>spit-all</h3><div class="usage"><code>(spit-all f values &amp; opts)</code></div><div class="doc"><div class="markdown"><p>Opens an output stream to <code>f</code>, writes each element in <code>values</code> to it, then closes the stream.</p>
<p>Options may include <code>:append</code> to write to the end of the file instead of truncating.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-cbor/blob/master/src/clj_cbor/core.clj#L209">view source</a></div></div></div></body></html>